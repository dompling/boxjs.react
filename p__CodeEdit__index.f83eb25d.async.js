"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[23],{82527:function(B,u,t){t.r(u),t.d(u,{default:function(){return x},monaco:function(){return O}});var v=t(5574),E=t.n(v),s=t(22148),h=t(19602),r=t(87357),f=t(90629),M=t(51233),P=t(15861),O=t(91739),l=t(67294),j=t(2302),o=t(85893),D=["/** "," * \u6CE8\u610F: "," * \u5728\u8FD9\u91CC\u4F60\u53EF\u4EE5\u4F7F\u7528\u5B8C\u6574\u7684 EnvJs \u73AF\u5883"," * "," * \u540C\u65F6: "," * \u4F60`\u5FC5\u987B`\u624B\u52A8\u8C03\u7528 $done()"," * "," * \u56E0\u4E3A: "," * BoxJs \u4E0D\u4E3A\u4E3B\u52A8\u6267\u884C\u7684\u811A\u672C\u8C03\u7528 $done()"," * \u800C\u628A $done \u7684\u65F6\u673A\u5B8C\u5168\u4EA4\u7531\u811A\u672C\u63A7\u5236"," * "," * \u6700\u540E: "," * \u8FD9\u6BB5\u811A\u672C\u662F\u53EF\u4EE5\u76F4\u63A5\u8FD0\u884C\u7684!"," */ ",'const host = $.getdata("boxjs_host")','console.log("\u8F93\u51FA\u7684\u5185\u5BB9\u662F\u8FD4\u56DE\u7ED9\u6D4F\u89C8\u5668\u7684!")',"$.msg($.name, host)","$.done()","// $done() \u6216 $.done() \u90FD\u53EF\u4EE5"],C=["/** "," * \u6CE8\u610F: "," * \u4F60\u6B63\u5728\u4F7F\u7528 Surge HTTP-API \u73AF\u5883"," * "," * \u5728\u8FD9\u91CC\uFF1A\u4F60\u4E0D\u53EF\u4EE5\u4F7F\u7528 EnvJs"," * \u8BF7\u786E\u4FDD\uFF1A\u4F60\u7684\u811A\u672C\u80FD\u88AB Surge \u72EC\u7ACB\u8FD0\u884C"," * "," * \u6700\u540E: "," * \u8FD9\u6BB5\u811A\u672C\u662F\u53EF\u4EE5\u76F4\u63A5\u8FD0\u884C\u7684!"," */ ",'const host = $persistentStore.read("boxjs_host")','const msgs = [""]',"",'msgs.push("\u8FD9\u662F\u65E5\u5FD7\u7684\u5185\u5BB9")','msgs.push("BoxJs host: " + host)',"",'console.log(msgs.join("\\n"))',"$done()"];function x(){var _,g=(0,s.useModel)("@@initialState"),n=g.initialState,R=(0,s.useModel)("api"),S=R.fetchRunScript,A=(0,s.useLocation)(),T=(n==null||(_=n.boxdata)===null||_===void 0?void 0:_.syscfgs.env)==="Surge"&&n!==null&&n!==void 0&&n.boxdata.usercfgs.httpapi?C.join(`
`):D.join(`
`),L=(0,l.useState)(T),d=E()(L,2),i=d[0],c=d[1],m=(0,s.useRequest)(function(e){return(0,s.request)(e)},{manual:!0,formatResult:function(a){return a},onSuccess:function(a){c(a)}});return(0,l.useEffect)(function(){var e=A.state;e!=null&&e.url&&m.run(e.url)},[]),(0,o.jsx)(r.Z,{pt:2,children:(0,o.jsxs)(f.Z,{children:[(0,o.jsxs)(M.Z,{sx:{p:1},direction:"row",justifyContent:"space-between",alignItems:"center",children:[(0,o.jsx)(P.Z,{variant:"h6",children:"\u811A\u672C\u7F16\u8F91\u5668"}),(0,o.jsx)(r.Z,{component:"span",onClick:function(){i&&S.run({script:i})},children:(0,o.jsx)(h.Z,{color:"primary"})})]}),(0,o.jsx)(j.ZP,{width:"100%",value:m.loading?"//...Loading":i,height:"calc(100vh - 200px)",theme:(n==null?void 0:n.mode)==="dark"?"vs-dark":"vs",onChange:function(a){c(a)},options:{fontSize:12,tabSize:2,selectOnLineNumbers:!0,minimap:{enabled:!1}}})]})})}}}]);
