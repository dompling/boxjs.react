"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3371],{69661:function(Cr,A,r){r.d(A,{Z:function(){return rr}});var w=r(63366),x=r(87462),T=r(67294),Y=r(86010),k=r(94780),C=r(90948),q=r(71657),y=r(88169),G=r(85893),K=(0,y.Z)((0,G.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person"),er=r(1588),E=r(34867);function R(v){return(0,E.Z)("MuiAvatar",v)}const vr=(0,er.Z)("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);var O=null;const yr=["alt","children","className","component","imgProps","sizes","src","srcSet","variant"],F=v=>{const{classes:m,variant:S,colorDefault:M}=v,P={root:["root",S,M&&"colorDefault"],img:["img"],fallback:["fallback"]};return(0,k.Z)(P,R,m)},ir=(0,C.ZP)("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(v,m)=>{const{ownerState:S}=v;return[m.root,m[S.variant],S.colorDefault&&m.colorDefault]}})(({theme:v,ownerState:m})=>(0,x.Z)({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:v.typography.fontFamily,fontSize:v.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},m.variant==="rounded"&&{borderRadius:(v.vars||v).shape.borderRadius},m.variant==="square"&&{borderRadius:0},m.colorDefault&&(0,x.Z)({color:(v.vars||v).palette.background.default},v.vars?{backgroundColor:v.vars.palette.Avatar.defaultBg}:{backgroundColor:v.palette.mode==="light"?v.palette.grey[400]:v.palette.grey[600]}))),N=(0,C.ZP)("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(v,m)=>m.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),sr=(0,C.ZP)(K,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(v,m)=>m.fallback})({width:"75%",height:"75%"});function V({crossOrigin:v,referrerPolicy:m,src:S,srcSet:M}){const[P,W]=T.useState(!1);return T.useEffect(()=>{if(!S&&!M)return;W(!1);let I=!0;const c=new Image;return c.onload=()=>{I&&W("loaded")},c.onerror=()=>{I&&W("error")},c.crossOrigin=v,c.referrerPolicy=m,c.src=S,M&&(c.srcset=M),()=>{I=!1}},[v,m,S,M]),P}var rr=T.forwardRef(function(m,S){const M=(0,q.Z)({props:m,name:"MuiAvatar"}),{alt:P,children:W,className:I,component:c="div",imgProps:tr,sizes:H,src:lr,srcSet:dr,variant:Zr="circular"}=M,Pr=(0,w.Z)(M,yr);let n=null;const i=V((0,x.Z)({},tr,{src:lr,srcSet:dr})),d=lr||dr,B=d&&i!=="error",X=(0,x.Z)({},M,{colorDefault:!B,component:c,variant:Zr}),mr=F(X);return B?n=(0,G.jsx)(N,(0,x.Z)({alt:P,src:lr,srcSet:dr,sizes:H,ownerState:X,className:mr.img},tr)):W!=null?n=W:d&&P?n=P[0]:n=(0,G.jsx)(sr,{ownerState:X,className:mr.fallback}),(0,G.jsx)(ir,(0,x.Z)({as:c,ownerState:X,className:(0,Y.Z)(mr.root,I),ref:S},Pr,{children:n}))})},87357:function(Cr,A,r){r.d(A,{Z:function(){return F}});var w=r(87462),x=r(63366),T=r(67294),Y=r(86010),k=r(49731),C=r(86523),q=r(39707),y=r(96682),G=r(85893);const K=["className","component"];function er(ir={}){const{themeId:N,defaultTheme:sr,defaultClassName:V="MuiBox-root",generateClassName:_}=ir,rr=(0,k.ZP)("div",{shouldForwardProp:m=>m!=="theme"&&m!=="sx"&&m!=="as"})(C.Z);return T.forwardRef(function(S,M){const P=(0,y.Z)(sr),W=(0,q.Z)(S),{className:I,component:c="div"}=W,tr=(0,x.Z)(W,K);return(0,G.jsx)(rr,(0,w.Z)({as:c,ref:M,className:(0,Y.Z)(I,_?_(V):V),theme:N&&P[N]||P},tr))})}var E=r(37078),R=r(43619),vr=r(10606);const O=(0,R.Z)();var F=er({themeId:vr.Z,defaultTheme:O,defaultClassName:"MuiBox-root",generateClassName:E.Z.generate})},81458:function(Cr,A,r){r.d(A,{Z:function(){return Pr}});var w=r(63366),x=r(87462),T=r(67294),Y=r(86010),k=r(94780),C=r(70917),q=r(41796),y=r(98216),G=r(2734),K=r(90948),er=r(71657),E=r(1588),R=r(34867);function vr(n){return(0,R.Z)("MuiLinearProgress",n)}const O=(0,E.Z)("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);var yr=null,F=r(85893);const ir=["className","color","value","valueBuffer","variant"];let N=n=>n,sr,V,_,rr,v,m;const S=4,M=(0,C.F4)(sr||(sr=N`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`)),P=(0,C.F4)(V||(V=N`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`)),W=(0,C.F4)(_||(_=N`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`)),I=n=>{const{classes:i,variant:d,color:B}=n,X={root:["root",`color${(0,y.Z)(B)}`,d],dashed:["dashed",`dashedColor${(0,y.Z)(B)}`],bar1:["bar",`barColor${(0,y.Z)(B)}`,(d==="indeterminate"||d==="query")&&"bar1Indeterminate",d==="determinate"&&"bar1Determinate",d==="buffer"&&"bar1Buffer"],bar2:["bar",d!=="buffer"&&`barColor${(0,y.Z)(B)}`,d==="buffer"&&`color${(0,y.Z)(B)}`,(d==="indeterminate"||d==="query")&&"bar2Indeterminate",d==="buffer"&&"bar2Buffer"]};return(0,k.Z)(X,vr,i)},c=(n,i)=>i==="inherit"?"currentColor":n.vars?n.vars.palette.LinearProgress[`${i}Bg`]:n.palette.mode==="light"?(0,q.$n)(n.palette[i].main,.62):(0,q._j)(n.palette[i].main,.5),tr=(0,K.ZP)("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(n,i)=>{const{ownerState:d}=n;return[i.root,i[`color${(0,y.Z)(d.color)}`],i[d.variant]]}})(({ownerState:n,theme:i})=>(0,x.Z)({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},backgroundColor:c(i,n.color)},n.color==="inherit"&&n.variant!=="buffer"&&{backgroundColor:"none","&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}},n.variant==="buffer"&&{backgroundColor:"transparent"},n.variant==="query"&&{transform:"rotate(180deg)"})),H=(0,K.ZP)("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(n,i)=>{const{ownerState:d}=n;return[i.dashed,i[`dashedColor${(0,y.Z)(d.color)}`]]}})(({ownerState:n,theme:i})=>{const d=c(i,n.color);return(0,x.Z)({position:"absolute",marginTop:0,height:"100%",width:"100%"},n.color==="inherit"&&{opacity:.3},{backgroundImage:`radial-gradient(${d} 0%, ${d} 16%, transparent 42%)`,backgroundSize:"10px 10px",backgroundPosition:"0 -23px"})},(0,C.iv)(rr||(rr=N`
    animation: ${0} 3s infinite linear;
  `),W)),lr=(0,K.ZP)("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(n,i)=>{const{ownerState:d}=n;return[i.bar,i[`barColor${(0,y.Z)(d.color)}`],(d.variant==="indeterminate"||d.variant==="query")&&i.bar1Indeterminate,d.variant==="determinate"&&i.bar1Determinate,d.variant==="buffer"&&i.bar1Buffer]}})(({ownerState:n,theme:i})=>(0,x.Z)({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",backgroundColor:n.color==="inherit"?"currentColor":(i.vars||i).palette[n.color].main},n.variant==="determinate"&&{transition:`transform .${S}s linear`},n.variant==="buffer"&&{zIndex:1,transition:`transform .${S}s linear`}),({ownerState:n})=>(n.variant==="indeterminate"||n.variant==="query")&&(0,C.iv)(v||(v=N`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
    `),M)),dr=(0,K.ZP)("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(n,i)=>{const{ownerState:d}=n;return[i.bar,i[`barColor${(0,y.Z)(d.color)}`],(d.variant==="indeterminate"||d.variant==="query")&&i.bar2Indeterminate,d.variant==="buffer"&&i.bar2Buffer]}})(({ownerState:n,theme:i})=>(0,x.Z)({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},n.variant!=="buffer"&&{backgroundColor:n.color==="inherit"?"currentColor":(i.vars||i).palette[n.color].main},n.color==="inherit"&&{opacity:.3},n.variant==="buffer"&&{backgroundColor:c(i,n.color),transition:`transform .${S}s linear`}),({ownerState:n})=>(n.variant==="indeterminate"||n.variant==="query")&&(0,C.iv)(m||(m=N`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
    `),P));var Pr=T.forwardRef(function(i,d){const B=(0,er.Z)({props:i,name:"MuiLinearProgress"}),{className:X,color:mr="primary",value:gr,valueBuffer:Sr,variant:J="indeterminate"}=B,$r=(0,w.Z)(B,ir),cr=(0,x.Z)({},B,{color:mr,variant:J}),pr=I(cr),jr=(0,G.Z)(),hr={},xr={bar1:{},bar2:{}};if((J==="determinate"||J==="buffer")&&gr!==void 0){hr["aria-valuenow"]=Math.round(gr),hr["aria-valuemin"]=0,hr["aria-valuemax"]=100;let Q=gr-100;jr.direction==="rtl"&&(Q=-Q),xr.bar1.transform=`translateX(${Q}%)`}if(J==="buffer"&&Sr!==void 0){let Q=(Sr||0)-100;jr.direction==="rtl"&&(Q=-Q),xr.bar2.transform=`translateX(${Q}%)`}return(0,F.jsxs)(tr,(0,x.Z)({className:(0,Y.Z)(pr.root,X),ownerState:cr,role:"progressbar"},hr,{ref:d},$r,{children:[J==="buffer"?(0,F.jsx)(H,{className:pr.dashed,ownerState:cr}):null,(0,F.jsx)(lr,{className:pr.bar1,ownerState:cr,style:xr.bar1}),J==="determinate"?null:(0,F.jsx)(dr,{className:pr.bar2,ownerState:cr,style:xr.bar2})]}))})},2734:function(Cr,A,r){r.d(A,{Z:function(){return k}});var w=r(67294),x=r(96682),T=r(90247),Y=r(10606);function k(){const C=(0,x.Z)(T.Z);return C[Y.Z]||C}},77230:function(Cr,A,r){r.r(A),r.d(A,{default:function(){return Vr}});var w=r(5574),x=r.n(w),T=r(13769),Y=r.n(T),k=r(97857),C=r.n(k),q=r(58291),y=r(88513),G=r(90948),K=r(90629),er=r(63366),E=r(87462),R=r(67294),vr=r(86010),O=r(95408),yr=r(39707),F=r(94780),ir=r(71657),N=r(2734),V=R.createContext(),_=r(1588),rr=r(34867);function v(t){return(0,rr.Z)("MuiGrid",t)}const m=[0,1,2,3,4,5,6,7,8,9,10],S=["column-reverse","column","row-reverse","row"],M=["nowrap","wrap-reverse","wrap"],P=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12];var I=(0,_.Z)("MuiGrid",["root","container","item","zeroMinWidth",...m.map(t=>`spacing-xs-${t}`),...S.map(t=>`direction-xs-${t}`),...M.map(t=>`wrap-xs-${t}`),...P.map(t=>`grid-xs-${t}`),...P.map(t=>`grid-sm-${t}`),...P.map(t=>`grid-md-${t}`),...P.map(t=>`grid-lg-${t}`),...P.map(t=>`grid-xl-${t}`)]),c=r(85893);const tr=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function H(t){const a=parseFloat(t);return`${a}${String(t).replace(String(a),"")||"px"}`}function lr({theme:t,ownerState:a}){let e;return t.breakpoints.keys.reduce((o,s)=>{let u={};if(a[s]&&(e=a[s]),!e)return o;if(e===!0)u={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(e==="auto")u={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const b=(0,O.P$)({values:a.columns,breakpoints:t.breakpoints.values}),Z=typeof b=="object"?b[s]:b;if(Z==null)return o;const $=`${Math.round(e/Z*1e8)/1e6}%`;let f={};if(a.container&&a.item&&a.columnSpacing!==0){const p=t.spacing(a.columnSpacing);if(p!=="0px"){const g=`calc(${$} + ${H(p)})`;f={flexBasis:g,maxWidth:g}}}u=(0,E.Z)({flexBasis:$,flexGrow:0,maxWidth:$},f)}return t.breakpoints.values[s]===0?Object.assign(o,u):o[t.breakpoints.up(s)]=u,o},{})}function dr({theme:t,ownerState:a}){const e=(0,O.P$)({values:a.direction,breakpoints:t.breakpoints.values});return(0,O.k9)({theme:t},e,o=>{const s={flexDirection:o};return o.indexOf("column")===0&&(s[`& > .${I.item}`]={maxWidth:"none"}),s})}function Zr({breakpoints:t,values:a}){let e="";Object.keys(a).forEach(s=>{e===""&&a[s]!==0&&(e=s)});const o=Object.keys(t).sort((s,u)=>t[s]-t[u]);return o.slice(0,o.indexOf(e))}function Pr({theme:t,ownerState:a}){const{container:e,rowSpacing:o}=a;let s={};if(e&&o!==0){const u=(0,O.P$)({values:o,breakpoints:t.breakpoints.values});let b;typeof u=="object"&&(b=Zr({breakpoints:t.breakpoints.values,values:u})),s=(0,O.k9)({theme:t},u,(Z,$)=>{var f;const p=t.spacing(Z);return p!=="0px"?{marginTop:`-${H(p)}`,[`& > .${I.item}`]:{paddingTop:H(p)}}:(f=b)!=null&&f.includes($)?{}:{marginTop:0,[`& > .${I.item}`]:{paddingTop:0}}})}return s}function n({theme:t,ownerState:a}){const{container:e,columnSpacing:o}=a;let s={};if(e&&o!==0){const u=(0,O.P$)({values:o,breakpoints:t.breakpoints.values});let b;typeof u=="object"&&(b=Zr({breakpoints:t.breakpoints.values,values:u})),s=(0,O.k9)({theme:t},u,(Z,$)=>{var f;const p=t.spacing(Z);return p!=="0px"?{width:`calc(100% + ${H(p)})`,marginLeft:`-${H(p)}`,[`& > .${I.item}`]:{paddingLeft:H(p)}}:(f=b)!=null&&f.includes($)?{}:{width:"100%",marginLeft:0,[`& > .${I.item}`]:{paddingLeft:0}}})}return s}function i(t,a,e={}){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[e[`spacing-xs-${String(t)}`]];const o=[];return a.forEach(s=>{const u=t[s];Number(u)>0&&o.push(e[`spacing-${s}-${String(u)}`])}),o}const d=(0,G.ZP)("div",{name:"MuiGrid",slot:"Root",overridesResolver:(t,a)=>{const{ownerState:e}=t,{container:o,direction:s,item:u,spacing:b,wrap:Z,zeroMinWidth:$,breakpoints:f}=e;let p=[];o&&(p=i(b,f,a));const g=[];return f.forEach(z=>{const D=e[z];D&&g.push(a[`grid-${z}-${String(D)}`])}),[a.root,o&&a.container,u&&a.item,$&&a.zeroMinWidth,...p,s!=="row"&&a[`direction-xs-${String(s)}`],Z!=="wrap"&&a[`wrap-xs-${String(Z)}`],...g]}})(({ownerState:t})=>(0,E.Z)({boxSizing:"border-box"},t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},t.item&&{margin:0},t.zeroMinWidth&&{minWidth:0},t.wrap!=="wrap"&&{flexWrap:t.wrap}),dr,Pr,n,lr);function B(t,a){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[`spacing-xs-${String(t)}`];const e=[];return a.forEach(o=>{const s=t[o];if(Number(s)>0){const u=`spacing-${o}-${String(s)}`;e.push(u)}}),e}const X=t=>{const{classes:a,container:e,direction:o,item:s,spacing:u,wrap:b,zeroMinWidth:Z,breakpoints:$}=t;let f=[];e&&(f=B(u,$));const p=[];$.forEach(z=>{const D=t[z];D&&p.push(`grid-${z}-${String(D)}`)});const g={root:["root",e&&"container",s&&"item",Z&&"zeroMinWidth",...f,o!=="row"&&`direction-xs-${String(o)}`,b!=="wrap"&&`wrap-xs-${String(b)}`,...p]};return(0,F.Z)(g,v,a)};var gr=R.forwardRef(function(a,e){const o=(0,ir.Z)({props:a,name:"MuiGrid"}),{breakpoints:s}=(0,N.Z)(),u=(0,yr.Z)(o),{className:b,columns:Z,columnSpacing:$,component:f="div",container:p=!1,direction:g="row",item:z=!1,rowSpacing:D,spacing:l=0,wrap:L="wrap",zeroMinWidth:j=!1}=u,or=(0,er.Z)(u,tr),br=D||l,Mr=$||l,nr=R.useContext(V),Ir=p?Z||12:nr,Br={},Dr=(0,E.Z)({},or);s.keys.forEach(U=>{or[U]!=null&&(Br[U]=or[U],delete Dr[U])});const Rr=(0,E.Z)({},u,{columns:Ir,container:p,direction:g,item:z,rowSpacing:br,columnSpacing:Mr,wrap:L,zeroMinWidth:j,spacing:l},Br,{breakpoints:s.keys}),Lr=X(Rr);return(0,c.jsx)(V.Provider,{value:Ir,children:(0,c.jsx)(d,(0,E.Z)({ownerState:Rr,className:(0,vr.Z)(Lr.root,b),as:f,ref:e},Dr))})}),Sr=r(51233),J=r(87357),$r=r(69661),cr=r(81458),pr=r(15861),jr=r(7145),hr=r.n(jr),xr=r(98958),Q=r(98169),zr=r(63679),Tr=r(36963),Gr=r(9628),Er=["item","script","moveCard","findCard","data"],Or=(0,G.ZP)(K.Z)(function(t){var a=t.theme;return C()(C()({},a.typography.body2),{},{textAlign:"center",color:a.palette.text.secondary,overflow:"hidden",background:"unset",boxShadow:"unset",borderRadius:0})}),ur={},Nr={},Ur=function(a){var e,o=a.item,s=a.script,u=a.moveCard,b=a.findCard,Z=a.data,$=Y()(a,Er),f="".concat(o==null?void 0:o.id,"_").concat(o==null?void 0:o.author),p=(0,y.useModel)("@@initialState"),g=p.initialState,z=(0,y.useModel)("api"),D=z.fetchRunScript,l=z.fetchSave,L=b(f).index,j=(0,xr.c)(function(){return{type:"grid",item:{id:f,originalIndex:L},collect:function(h){var ar=h.getSourceClientOffset(),fr={x:0,y:0};return ar&&(fr.x=ar.x,fr.y=ar.y),{offset:fr,isDragging:h.isDragging()}},end:function(h,ar){var fr=h.id,Ar=h.originalIndex,Hr=ar.didDrop();Hr||u(fr,Ar);var Xr=Z==null?void 0:Z.map(function(Wr){return Wr==null?void 0:Wr.id}),Jr=g==null?void 0:g.boxdata.usercfgs;l.run({key:q.Z.userCfgs,val:JSON.stringify(C()(C()({},Jr),{},{favapps:Xr}))})}}},[f,L,u]),or=x()(j,2),br=or[0],Mr=br.isDragging,nr=br.offset,Ir=or[1],Br=(0,Q.L)(function(){return{accept:"grid",hover:function(h){var ar=h.id;if(ar!==f){var fr=b(f),Ar=fr.index;u(ar,Ar)}}}},[b,u]),Dr=x()(Br,2),Rr=Dr[1],Lr=Mr?0:1;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(gr,{item:!0,xs:3,md:2,style:{opacity:Lr,transform:"translate(0,0)"},children:(0,c.jsx)(Or,{ref:function(h){return Ir(Rr(h))},onClick:function(){var h="".concat(o==null?void 0:o.id);ur[h]===void 0&&(ur[h]=0),ur[h]+=1,Nr[h]=setTimeout(function(){if(Nr[h]!==void 0&&clearTimeout(Nr[h]),ur[h]===2){if(ur[h]=0,!s)return y.history.push("/app/".concat(h));D.run({url:s,isRemote:!0})}else ur[h]===1&&y.history.push("/app/".concat(h));ur={}},200)},children:(0,c.jsxs)(Sr.Z,{spacing:1,justifyContent:"center",alignItems:"center",children:[(0,c.jsxs)(J.Z,{sx:{width:50,height:50,borderRadius:2,overflow:"hidden",position:"relative",boxShadow:function(h){return h.shadows[4]}},children:[(0,c.jsx)($r.Z,{variant:"square",alt:o==null?void 0:o.name,src:o==null?void 0:o.icon,sx:{width:"100%",height:"100%",background:"#ECECEE"}}),((e=D.fetches["".concat(s)])===null||e===void 0?void 0:e.loading)&&(0,c.jsx)(cr.Z,{sx:{position:"absolute",bottom:0,width:"100%"}})]}),(0,c.jsx)(pr.Z,{variant:"body2",sx:{fontSize:10,color:g!=null&&g.boxdata.usercfgs.bgimg?"#fff":"unset",width:"100%",fontWeight:"bold",textShadow:g!=null&&g.boxdata.usercfgs.bgimg?"black 0.1em 0.1em 0.2em":"unset"},noWrap:!0,children:o==null?void 0:o.name})]})})},"".concat(o==null?void 0:o.id,"/").concat(o==null?void 0:o.author,"/").concat(o==null?void 0:o.name)),Mr&&(g==null?void 0:g.isMobile)&&(0,c.jsx)(Sr.Z,{sx:{zIndex:-1,opacity:.5,position:"fixed",left:nr==null?void 0:nr.x,top:nr==null?void 0:nr.y},spacing:1,justifyContent:"center",alignItems:"center",children:(0,c.jsx)(J.Z,{sx:{width:40,height:40,borderRadius:2,overflow:"hidden",position:"relative",boxShadow:function(h){return h.shadows[4]}},children:(0,c.jsx)($r.Z,{variant:"square",alt:o==null?void 0:o.name,src:o==null?void 0:o.icon,sx:{width:"100%",height:"100%"}})})})]})},Kr=(0,R.memo)(Ur);function Fr(){var t,a=(0,y.useModel)("@@initialState"),e=a.initialState,o=(0,Q.L)(function(){return{accept:"grid"}}),s=x()(o,2),u=s[1],b=(e==null||(t=e.boxdata)===null||t===void 0?void 0:t.usercfgs.favapps.map(function(l){return e==null?void 0:e.apps.find(function(L){return L.id===l})}).filter(function(l){return!!l}))||[],Z=(0,R.useState)(b),$=x()(Z,2),f=$[0],p=$[1],g=(0,R.useCallback)(function(l){var L=f.filter(function(j){return"".concat(j==null?void 0:j.id,"_").concat(j==null?void 0:j.author)===l})[0];return{card:L,index:f.indexOf(L)}},[f]),z=(0,R.useCallback)(function(l,L){var j=g(l),or=j.card,br=j.index;p(hr()(f,{$splice:[[br,1],[L,0,or]]}))},[g,f,p]),D=e==null?void 0:e.ui(e.boxdata);return(0,c.jsx)(gr,{ref:u,container:!0,spacing:4,children:f==null?void 0:f.map(function(l,L){D==null||D.loadAppBaseInfo(l);var j=null;return l!=null&&l.script?j=l==null?void 0:l.script:l!=null&&l.scripts&&l!==null&&l!==void 0&&l.scripts[0].script&&(j=l==null?void 0:l.scripts[0].script),(0,c.jsx)(Kr,{item:l,data:f,script:j,findCard:g,moveCard:z,index:L},"".concat(l==null?void 0:l.id,"-").concat(l==null?void 0:l.author))})})}function Vr(){var t=(0,y.useModel)("@@initialState"),a=t.initialState;return(0,c.jsx)(J.Z,{pt:4,component:"div",children:(0,c.jsx)(zr.W,{backend:a!=null&&a.isMobile?Gr.zr:Tr.PD,options:{delay:400},children:(0,c.jsx)(Fr,{})})})}},58291:function(Cr,A){A.Z={logo:"https://raw.githubusercontent.com/Orz-3/mini/master/Color/box.png",userCfgs:"chavy_boxjs_userCfgs",sessions:"chavy_boxjs_sessions",app_subCaches:"chavy_boxjs_app_subCaches",backups:"chavy_boxjs_backups",cursessions:"chavy_boxjs_cur_sessions"}}}]);
