"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[39],{32646:function(nt,A,t){t.d(A,{k:function(){return N}});var z=t(97857),$=t.n(z),U=t(90948),L=t(45843),Y=t(85893),N=(0,U.ZP)(function(W){return(0,Y.jsx)(L.Z,$()({focusVisibleClassName:".Mui-focusVisible",disableRipple:!0},W))})(function(W){var S=W.theme;return{width:42,height:26,padding:0,"& .MuiSwitch-switchBase":{padding:0,margin:2,transitionDuration:"300ms","&.Mui-checked":{transform:"translateX(16px)",color:"#fff","& + .MuiSwitch-track":{backgroundColor:S.palette.primary,opacity:1,border:0},"&.Mui-disabled + .MuiSwitch-track":{opacity:.5}},"&.Mui-focusVisible .MuiSwitch-thumb":{color:S.palette.primary,border:"6px solid #fff"},"&.Mui-disabled .MuiSwitch-thumb":{color:S.palette.mode==="light"?S.palette.grey[100]:S.palette.grey[600]},"&.Mui-disabled + .MuiSwitch-track":{opacity:S.palette.mode==="light"?.7:.3}},"& .MuiSwitch-thumb":{boxSizing:"border-box",width:22,height:22},"& .MuiSwitch-track":{borderRadius:26/2,backgroundColor:S.palette.mode==="light"?"#E9E9EA":"#39393D",opacity:1,transition:S.transitions.create(["background-color"],{duration:500})}}})},92461:function(nt,A,t){var z=t(97857),$=t.n(z),U=t(13769),L=t.n(U),Y=t(67294),N=t(85893),W=["onSubmit","form"],S=function(l){var G=l.onSubmit,M=l.form,Q=L()(l,W);return(0,N.jsx)("form",$()($()({onSubmit:(M==null?void 0:M.handleSubmit(G))||function(O){O.preventDefault(),G(void 0)}},Q),{},{children:Q.children}))};A.Z=S},31085:function(nt,A,t){t.d(A,{Z:function(){return k}});var z=t(13769),$=t.n(z),U=t(97857),L=t.n(U),Y=t(92461),N=t(54776),W=t(50657),S=t(37645),at=t(87357),l=t(6514),G=t(31425),M=t(83321),Q=t(47036),O=t(98456),C=t(67294),b={fullScreen:"fullScreen___mbcSL",header_container:"header_container___wE0ve"},Z=t(85893),R=["footer","loading","onClose","title","children","onSubmit","form"],lt=C.forwardRef(function(o,X){return(0,Z.jsx)(N.Z,L()({direction:"up",ref:X},o))}),D=function(o){var X=o.footer,ut=o.loading,F=o.onClose,w=o.title,ct=o.children,q=o.onSubmit,vt=o.form,_=$()(o,R);return(0,Z.jsx)(W.Z,L()(L()({maxWidth:"xs",TransitionComponent:lt,sx:{"& .MuiDialog-paper":{minWidth:"80%"}},className:_.fullScreen?b.fullScreen:""},_),{},{children:_.open&&(0,Z.jsxs)(Y.Z,{form:vt,onSubmit:function(ot){q==null||q(ot)},children:[w&&typeof w=="string"?(0,Z.jsx)(S.Z,{className:b.header_container,sx:{fontSize:"1rem",padding:1.5},children:w},"title"):(0,Z.jsx)(at.Z,{className:b.header_container,children:w}),(0,Z.jsx)(l.Z,{dividers:!0,children:_.open?ct:null},"content"),(0,Z.jsx)(G.Z,{children:X!==void 0?X:(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(M.Z,{sx:{color:Q.Z[600]},"aria-label":"delete",onClick:function(){F==null||F()},children:"\u53D6\u6D88"}),(0,Z.jsx)(M.Z,{type:"submit",children:ut?(0,Z.jsx)(O.Z,{color:"inherit",size:20}):"\u786E\u5B9A"})]})},"action")]})}),"Dialog")},k=D},59690:function(nt,A,t){t.r(A),t.d(A,{default:function(){return Fo}});var z=t(15009),$=t.n(z),U=t(99289),L=t.n(U),Y=t(19632),N=t.n(Y),W=t(9783),S=t.n(W),at=t(97857),l=t.n(at),G=t(5574),M=t.n(G),Q=t(32646),O=t(31085),C=t(58291),b=t(22148),Z=t(43800),R=t(50135),lt=t(87109),D=t(76254),k=t(67294),H=t(87536),o=t(85893),X=function(a){var p=(0,b.useModel)("@@initialState"),f=p.initialState,x=(0,b.useModel)("api"),n=x.fetchSave,d=(0,H.cI)();return(0,o.jsx)(O.Z,{title:"\u8C03\u8BD5\u5730\u5740",open:!!a.open,onClose:function(){a.onClose()},form:d,loading:n.loading,onSubmit:function(j){f&&n.run([{key:C.Z.userCfgs,val:JSON.stringify(l()(l()({},f.boxdata.usercfgs),j))}]).then(function(){var r;return(r=a.onClose)===null||r===void 0?void 0:r.call(a)})},children:(0,o.jsx)(R.Z,l()(l()({fullWidth:!0,size:"small",variant:"standard",placeholder:"\u8BF7\u8F93\u5165 html \u5730\u5740"},d.register("debugger_web")),{},{defaultValue:a.value,InputProps:{startAdornment:(0,o.jsx)(lt.Z,{position:"start",children:(0,o.jsx)(Z.Z,{sx:{color:D.Z[400]}})})}}))})},ut=X,F=t(51233),w=t(94054),ct=t(47312),q=t(90629),vt=["./static/background/2.png","./static/background/3.png","./static/background/4.png","./static/background/5.png"],_=function(a){var p,f=(0,b.useModel)("@@initialState"),x=f.initialState,n=(0,b.useModel)("api"),d=n.fetchSave,g=x==null||(p=x.boxdata)===null||p===void 0?void 0:p.usercfgs,j=(0,k.useState)((g==null?void 0:g.iconBg)||"./static/background/3.png"),r=M()(j,2),u=r[0],s=r[1],i=(0,H.cI)();return(0,o.jsx)(O.Z,{title:"\u4E2A\u4EBA\u8BBE\u7F6E",open:!!a.open,onClose:function(){var e;(e=a.onClose)===null||e===void 0||e.call(a)},form:i,loading:d.loading,onSubmit:function(e){x&&d.run([{key:C.Z.userCfgs,val:JSON.stringify(l()(l()(l()({},x.boxdata.usercfgs),e),{},{iconBg:u}))}]).then(function(){var y;(y=a.onClose)===null||y===void 0||y.call(a)})},children:(0,o.jsxs)(F.Z,{spacing:4,children:[(0,o.jsx)(R.Z,l()({fullWidth:!0,size:"small",label:"\u6635\u79F0",variant:"standard",defaultValue:g==null?void 0:g.name,placeholder:"\u8BF7\u8F93\u5165\u6635\u79F0",InputLabelProps:{shrink:!0}},i.register("name"))),(0,o.jsx)(R.Z,l()({fullWidth:!0,size:"small",label:"\u5934\u50CF",variant:"standard",placeholder:"\u8BF7\u8F93\u5165\u5934\u50CF\u56FE\u7247\u5730\u5740",InputLabelProps:{shrink:!0},defaultValue:g==null?void 0:g.icon},i.register("icon"))),(0,o.jsxs)(w.Z,{variant:"standard",children:[(0,o.jsx)(ct.Z,{sx:{position:"unset",transform:"unset",mb:2},children:"\u5934\u50CF\u80CC\u666F"}),(0,o.jsxs)(F.Z,{spacing:2,children:[(0,o.jsx)(F.Z,{spacing:2,direction:"row",children:vt.map(function(m){return(0,o.jsx)(q.Z,{sx:{border:m!==u?1:2,width:"25%",height:"auto",overflow:"hidden",borderColor:m!==u?"unset":function(e){return e.palette.primary.main}},elevation:3,children:(0,o.jsx)("img",{onClick:function(){s(m)},loading:"lazy",src:m,width:"100%",height:"100%"})},m)})}),(0,o.jsx)(R.Z,l()({fullWidth:!0,size:"small",variant:"standard",placeholder:"\u81EA\u5B9A\u4E49\u5934\u50CF\u80CC\u666F\u5730\u5740",InputLabelProps:{shrink:!0},defaultValue:g==null?void 0:g.iconCusBg},i.register("iconCusBg")))]})]})]})})},ht=_,ot=t(10315),it=t(18972),Vt=function(a){var p,f,x,n=(0,b.useModel)("@@initialState"),d=n.initialState,g=(0,b.useModel)("api"),j=g.fetchSave,r=(0,H.cI)(),u=d==null||(p=d.boxdata)===null||p===void 0||(f=p.usercfgs)===null||f===void 0||(x=f.bgimgs)===null||x===void 0?void 0:x.split(`
`).map(function(s,i){var m=s.split(","),e=M()(m,2),y=e[0],st=e[1],et=st===void 0?i:st;return{label:y,val:et}});return(0,o.jsx)(O.Z,{title:"\u80CC\u666F\u56FE\u7247",open:!!a.open,onClose:function(){a.onClose()},form:r,loading:j.loading,onSubmit:function(i){d&&j.run([{key:C.Z.userCfgs,val:JSON.stringify(l()(l()({},d.boxdata.usercfgs),{},{bgimg:i.bgimg}))}]).then(function(){var m;return(m=a.onClose)===null||m===void 0?void 0:m.call(a)})},children:u!=null&&u.length?(0,o.jsx)(ot.Z,l()(l()({size:"small",placeholder:"\u8BF7\u9009\u62E9",sx:{width:"100%"},id:"demo-select-small",defaultValue:a.value,labelId:"demo-select-small-label"},r.register("bgimg")),{},{children:u==null?void 0:u.map(function(s,i){return(0,o.jsx)(it.Z,{value:s.val,children:s.label},"".concat(s.val,"_").concat(i))})})):(0,o.jsx)(R.Z,l()({fullWidth:!0,multiline:!0,minRows:6,size:"small",variant:"standard",placeholder:"\u8BF7\u8F93\u5165\u56FE\u7247\u5728\u7EBF\u94FE\u63A5",InputLabelProps:{shrink:!0},defaultValue:a.value},r.register("bgimg")))})},zt=Vt,J=t(5554),Ut=function(a){var p,f,x,n=(0,b.useModel)("@@initialState"),d=n.initialState,g=(0,b.useModel)("api"),j=g.fetchAllData,r={token:localStorage.getItem(J.o3),backend_address:localStorage.getItem(J.Ir)},u=(0,H.cI)({defaultValues:r}),s=((d==null||(p=d.boxdata)===null||p===void 0||(f=p.usercfgs)===null||f===void 0||(x=f.backend_address_list)===null||x===void 0?void 0:x.split(/,|\n/))||[]).filter(function(m){return!!m}),i=u.watch("backend_address");return(0,o.jsxs)(O.Z,{title:"\u540E\u7AEF\u8BBE\u7F6E",open:!!a.open,onClose:function(){a.onClose()},form:u,loading:j.loading,onSubmit:function(e){localStorage.setItem(J.Ir,e.backend_address),e.token&&localStorage.setItem(J.o3,e.token),j.run().then(function(){var y;(y=a.onClose)===null||y===void 0||y.call(a),window.location.reload()})},children:[s!=null&&s.length?(0,o.jsxs)(ot.Z,l()(l()({size:"small",placeholder:"\u8BF7\u9009\u62E9",sx:{width:"100%"},id:"demo-select-small",labelId:"demo-select-small-label"},u.register("backend_address")),{},{children:[(0,o.jsx)(it.Z,{value:"",children:(0,o.jsx)("em",{children:"None"})}),s==null?void 0:s.map(function(m,e){return(0,o.jsx)(it.Z,{value:m,children:m},"".concat(m,"-").concat(e))})]})):(0,o.jsx)(R.Z,l()({fullWidth:!0,multiline:!0,minRows:3,size:"small",variant:"standard",placeholder:"\u540E\u7AEF\u5730\u5740",InputLabelProps:{shrink:!0}},u.register("backend_address"))),i&&(0,o.jsx)(R.Z,l()(l()({fullWidth:!0,multiline:!0,minRows:3,size:"small",variant:"standard",placeholder:"\u540E\u7AEFToken",InputLabelProps:{shrink:!0},error:!!u.formState.errors.token},u.register("token",{required:!0})),{},{helperText:u.formState.errors.token&&"\u8BF7\u8F93\u5165\u767B\u5F55 Token"}))]})},Jt=Ut,Kt=function(a){var p,f,x,n=(0,b.useModel)("@@initialState"),d=n.initialState,g=(0,b.useModel)("api"),j=g.fetchSave,r=(0,H.cI)(),u=((d==null||(p=d.boxdata)===null||p===void 0||(f=p.usercfgs)===null||f===void 0||(x=f.httpapis)===null||x===void 0?void 0:x.split(/,|\n/))||[]).filter(function(s){return!!s});return(0,o.jsx)(O.Z,{title:"HTTP-API (Surge)",open:!!a.open,onClose:function(){a.onClose()},form:r,loading:j.loading,onSubmit:function(i){d&&j.run([{key:C.Z.userCfgs,val:JSON.stringify(l()(l()({},d.boxdata.usercfgs),i))}]).then(function(){var m;return(m=a.onClose)===null||m===void 0?void 0:m.call(a)})},children:u!=null&&u.length?(0,o.jsx)(ot.Z,l()(l()({size:"small",placeholder:"\u8BF7\u9009\u62E9",sx:{width:"100%"},id:"demo-select-small",defaultValue:a.value,labelId:"demo-select-small-label"},r.register("httpapi")),{},{children:u==null?void 0:u.map(function(s,i){return(0,o.jsx)(it.Z,{value:s,children:s},"".concat(s,"-").concat(i))})})):(0,o.jsx)(R.Z,l()(l()({fullWidth:!0,multiline:!0,minRows:6,size:"small",variant:"standard",placeholder:"examplekey@127.0.0.1:6166",InputLabelProps:{shrink:!0},defaultValue:a.value},r.register("httpapi",{pattern:/.*?@.*?:[0-9]+/,onChange:function(){r.trigger(["httpapi"])}})),{},{error:!!r.formState.errors.httpapi,helperText:r.formState.errors.httpapi&&"\u683C\u5F0F\u9519\u8BEF: examplekey@127.0.0.1:6166"}))})},Yt=Kt,yt=t(23365),Gt=function(a){var p=(0,b.useModel)("@@initialState"),f=p.initialState,x=(0,b.useModel)("api"),n=x.fetchSave,d=(0,H.cI)();return(0,o.jsx)(O.Z,{title:"\u5E94\u7528\u8BBE\u7F6E\u8868\u5355\u9AD8\u5EA6",open:!!a.open,onClose:function(){a.onClose()},form:d,loading:n.loading,onSubmit:function(j){f&&n.run([{key:C.Z.userCfgs,val:JSON.stringify(l()(l()({},f.boxdata.usercfgs),j))}]).then(function(){var r;return(r=a.onClose)===null||r===void 0?void 0:r.call(a)})},children:(0,o.jsx)(R.Z,l()(l()({fullWidth:!0,size:"small",type:"number",variant:"standard",placeholder:"\u8BF7\u8F93\u5165"},d.register("app_settings_height")),{},{defaultValue:a.value,InputProps:{endAdornment:(0,o.jsx)(lt.Z,{position:"start",children:(0,o.jsx)(yt.Z,{sx:{color:D.Z[400]}})})}}))})},Qt=Gt,Xt=t(72890),wt=t(50480),qt=t(36872),_t=function(a){var p=(0,k.useState)(a.value),f=M()(p,2),x=f[0],n=f[1],d=(0,b.useModel)("@@initialState"),g=d.initialState,j=(0,b.useModel)("api"),r=j.fetchSave,u=k.useContext(J.kc),s={light:"\u767D\u5929",dark:"\u591C\u95F4",auto:"\u81EA\u52A8"};return(0,o.jsx)(O.Z,{title:"\u5916\u89C2\u4E3B\u9898",open:!!a.open,onClose:function(){u.toggleColorMode(a.value),a.onClose()},loading:r.loading,onSubmit:function(){!g||!x||(g.boxdata.usercfgs.theme=x,r.run([{key:C.Z.userCfgs,val:JSON.stringify(g.boxdata.usercfgs)}]).then(function(){a.onClose()}))},children:(0,o.jsx)(Xt.Z,{"aria-label":"ringtone",name:"ringtone",defaultValue:a.value,onChange:function(m,e){var y=e;n(y),u.toggleColorMode(y)},children:Object.keys(s).map(function(i){return(0,o.jsx)(wt.Z,{value:i,control:(0,o.jsx)(qt.Z,{}),label:s[i]},i)})})})},to=_t,Mt=t(28366),oo=t(43927),eo=t(32538),no=t(59736),ao=t(14465),lo=t(96214),io=t(99078),ro=t(35208),so=t(56693),uo=t(48317),co=t(46646),vo=t(50685),ho=t(13423),go=t(63094),mo=t(1849),fo=t(24410),xo=t(44137),po=t(22154),Pt=t(52295),bo=t(75890),jo=t(2734),It=t(6949),Et=t(13486),So=t(58663),Co=t(96189),Ot=t(48831),Rt=t(90872),Bt=t(55137),gt=t(60265),Zo=t(54128),yo=t(44745),Mo=t(7095),mt=t(87357),rt=t(69661),ft=t(15861),xt=t(87918),tt=t(16115),Po=t(93946),Io=t(47036),Eo=t(78462),Oo=t(97212),At=t(48885),Ro=t(59334),Bo=t(30381),Ao=t.n(Bo),Do=t(97458),Dt={opacity_gradient:"opacity_gradient___xYxgy",avatar:"avatar___bLXS9",settings:"settings___cCZL9"};function Fo(){var T,a,p,f,x=(0,b.useModel)("@@initialState"),n=x.initialState,d=(0,b.useModel)("alert"),g=(0,k.useState)({}),j=M()(g,2),r=j[0],u=j[1],s=(0,k.useRef)(null),i=function(h,v){u(l()(l()({},r),{},S()({},h,!!v)))},m=(n==null?void 0:n.apps)||[],e=n==null?void 0:n.boxdata.usercfgs,y=(0,jo.Z)(),st=(0,b.useModel)("api"),et=st.fetchSave,pt=n==null||(T=n.boxdata)===null||T===void 0||(a=T.usercfgs)===null||a===void 0||(p=a.bgimgs)===null||p===void 0?void 0:p.split(`
`).map(function(c,h){var v=c.split(","),P=M()(v,2),I=P[0],K=P[1],B=K===void 0?h:K;return{label:I,val:B}}),Ft=pt==null||(f=pt.find(function(c){return c.val===(e==null?void 0:e.bgimg)}))===null||f===void 0?void 0:f.label,bt=[{label:"\u4E3B\u9898\u8BBE\u7F6E",data:[{id:"theme",type:"select",label:"\u5916\u89C2\u8BBE\u7F6E",val:e==null?void 0:e.theme,onClick:function(){return i("theme",!0)},icon:y.palette.mode==="dark"?(0,o.jsx)(io.Z,{sx:{color:D.Z[400]}}):(0,o.jsx)(co.Z,{sx:{color:D.Z[400]}})},{label:"\u900F\u660E\u56FE\u6807",type:"switch",id:"isTransparentIcons",icon:(0,o.jsx)(bo.Z,{sx:{color:D.Z[400]}})},{label:"\u58C1\u7EB8\u6A21\u5F0F",type:"switch",id:"isWallpaperMode",icon:(0,o.jsx)(so.Z,{sx:{color:It.Z[400]}})},{id:"bgimg",label:"\u80CC\u666F\u56FE\u7247",type:"select",val:Ft===void 0?e==null?void 0:e.bgimg:Ft,onClick:function(){return i("bgimg",!0)},icon:(0,o.jsx)(ho.Z,{sx:{color:It.Z[400]}})}]},{label:"\u754C\u9762\u8BBE\u7F6E",data:[{label:"\u9690\u85CF\u9876\u680F",type:"switch",id:"isWaitToggleSearchBar",icon:(0,o.jsx)(no.Z,{sx:{color:Et.Z[400]}})},{label:"\u9690\u85CF\u5E95\u680F",type:"switch",id:"isHidedNaviBottom",icon:(0,o.jsx)(eo.Z,{sx:{color:So.Z[400]}})},{label:"\u4F20\u7EDF\u83DC\u5355",type:"switch",id:"isTraditionalMenu",icon:(0,o.jsx)(vo.Z,{sx:{color:Co.Z[400]}})}]},{label:"\u60AC\u6D6E\u6309\u94AE",data:[{label:"\u9690\u85CF\u60AC\u6D6E\u6309\u94AE",type:"switch",id:"isHideBoxIcon",icon:(0,o.jsx)(ro.Z,{sx:{color:Ot.Z[400]}})},{label:"\u9690\u85CF\u5E2E\u52A9\u6309\u94AE",type:"switch",id:"isHideHelp",icon:(0,o.jsx)(go.Z,{sx:{color:Rt.Z[400]}})},{type:"switch",label:"\u9690\u85CF\u7F16\u7801\u6309\u94AE",id:"isHideCoding",icon:(0,o.jsx)(lo.Z,{sx:{color:Bt.Z[400]}})},{type:"switch",label:"\u9690\u85CF\u5237\u65B0\u6309\u94AE",id:"isHideRefresh",icon:(0,o.jsx)(mo.Z,{sx:{color:gt.Z[400]}})}]},{label:"\u5176\u4ED6\u8BBE\u7F6E",data:[].concat(N()((n==null?void 0:n.boxdata.syscfgs.env)==="Surge"?[{type:"select",id:"httpapi",val:e==null?void 0:e.httpapi,label:"HTTP-API (Surge)",onClick:function(){return i("httpapi",!0)},icon:(0,o.jsx)(Mt.Z,{sx:{color:Rt.Z[400]}})}]:[]),[{type:"select",id:"backend",label:"\u540E\u7AEF\u8BBE\u7F6E",val:localStorage.getItem(J.Ir),icon:(0,o.jsx)(Mt.Z,{sx:{color:gt.Z[400]}}),onClick:function(){return i("backend",!0)}},{type:"input",label:"\u5E94\u7528\u5185\u5BB9\u9AD8\u5EA6",id:"app_settings_height",val:e==null?void 0:e.app_settings_height,icon:(0,o.jsx)(yt.Z,{sx:{color:D.Z[400]}}),onClick:function(){return i("app_settings_height",!0)}},{label:"\u52FF\u6270\u6A21\u5F0F",type:"switch",id:"isMute",icon:(0,o.jsx)(Pt.Z,{sx:{color:Zo.Z[400]}})},{label:"\u4E0D\u663E\u793A\u67E5\u8BE2\u8B66\u544A",type:"switch",id:"isMuteQueryAlert",icon:(0,o.jsx)(Pt.Z,{sx:{color:Ot.Z[400]}})},{type:"switch",label:"\u7F51\u9875\u63A7\u5236\u53F0",id:"isVConsole",icon:(0,o.jsx)(ao.Z,{sx:{color:yo.Z[400]}})},{type:"switch",label:"\u52A8\u753B",id:"isAnimate",icon:(0,o.jsx)(oo.Z,{sx:{color:Mo.Z[400]}})},{type:"select",label:"\u4E0B\u8F7D\u6570\u636E\u5907\u4EFD",id:"download",onClick:function(){var h=JSON.stringify(n==null?void 0:n.boxdata,null,2),v=new Blob([h],{type:"application/json"}),P=Ao()().format("YYYY_MM_DD_HH_mm_ss"),I="".concat(P,"_boxdata.json"),K=URL.createObjectURL(v),B=document.createElement("a");B.href=K,B.setAttribute("download",I),document.body.appendChild(B),B.click(),window.URL.revokeObjectURL(B.href)},icon:(0,o.jsx)(xo.Z,{sx:{color:D.Z[400]}})},{type:"select",label:"\u4E0A\u4F20\u672C\u5730\u5907\u4EFD",id:"upload",onClick:function(){var h;return(h=s.current)===null||h===void 0?void 0:h.click()},icon:(0,o.jsx)(po.Z,{sx:{color:D.Z[400]}})}])}],Tt=[];bt.forEach(function(c){c.data.forEach(function(h){n!=null&&n.boxdata.usercfgs[h.id]&&h.type==="switch"&&Tt.push(h.id)})});var To=(0,k.useState)(Tt),$t=M()(To,2),jt=$t[0],Lt=$t[1],$o=function(h){return function(v){var P=jt.indexOf(h),I=N()(jt);P===-1?I.push(h):I.splice(P,1),Lt(I),et.run([{key:C.Z.userCfgs,val:JSON.stringify(l()(l()({},n==null?void 0:n.boxdata.usercfgs),{},S()({},h,v.target.checked)))}])}};return(0,k.useEffect)(function(){if(n!=null&&n.boxdata.usercfgs){var c=[];bt.forEach(function(h){h.data.forEach(function(v){n!=null&&n.boxdata.usercfgs[v.id]&&v.type==="switch"&&c.push(v.id)})}),Lt(c)}},[n==null?void 0:n.boxdata.usercfgs]),(0,o.jsxs)(mt.Z,{children:[(0,o.jsx)(to,{open:r.theme,value:e==null?void 0:e.theme,onClose:function(){return i("theme")}}),(0,o.jsx)(ut,{open:r.debugger_web,value:e==null?void 0:e.debugger_web,onClose:function(){return i("debugger_web")}}),(0,o.jsx)(Qt,{open:r.app_settings_height,value:e==null?void 0:e.app_settings_height,onClose:function(){return i("app_settings_height")}}),(0,o.jsx)(zt,{open:r.bgimg,value:e==null?void 0:e.bgimg,onClose:function(){return i("bgimg")}}),(0,o.jsx)(Yt,{open:r.httpapi,value:e==null?void 0:e.httpapi,onClose:function(){return i("httpapi")}}),(0,o.jsx)(Jt,{open:r.backend,onClose:function(){return i("backend")}}),(0,o.jsx)(ht,{open:r.setting,onClose:function(){return i("setting")}}),(0,o.jsxs)(mt.Z,{p:4,className:Dt.avatar,sx:{position:"relative",background:function(h){return"".concat(h.palette.mode==="dark"?"linear-gradient(to top, rgba(18, 18, 18, 1), rgba(18, 18, 18, 0))":"linear-gradient(to top, rgba(255, 255, 255, 1), rgba(255, 255, 255, 0))").concat(e!=null&&e.bgimg?",":", url(".concat((e==null?void 0:e.iconBg)||(e==null?void 0:e.iconCusBg)||"./static/background/3.png",") no-repeat center")," ")},backgroundSize:"100% 100%"},children:[(0,o.jsxs)(F.Z,{spacing:1,justifyContent:"center",alignItems:"center",children:[(0,o.jsx)(rt.Z,{src:e==null?void 0:e.icon,sx:{width:68,height:68,border:"1px solid #e8e8e8"}}),(0,o.jsx)(ft.Z,{variant:"h6",display:"block",gutterBottom:!0,sx:{color:"#fff"},children:e==null?void 0:e.name})]}),(0,o.jsxs)(F.Z,{mt:2,direction:"row",justifyContent:"space-around",spacing:2,children:[(0,o.jsx)(xt.Z,{sx:{color:tt.Z.white},avatar:(0,o.jsx)(rt.Z,{sx:{bgcolor:gt.Z[400],color:"".concat(tt.Z.white," !important")},children:(e==null?void 0:e.appsubs.length)||0}),label:"\u8BA2\u9605"}),(0,o.jsx)(xt.Z,{sx:{color:tt.Z.white},avatar:(0,o.jsx)(rt.Z,{sx:{bgcolor:Et.Z[400],color:"".concat(tt.Z.white," !important")},children:(n==null?void 0:n.boxdata.sessions.length)||0}),label:"\u4F1A\u8BDD"}),(0,o.jsx)(xt.Z,{sx:{color:tt.Z.white},avatar:(0,o.jsx)(rt.Z,{sx:{bgcolor:Bt.Z[400],color:"".concat(tt.Z.white," !important")},children:m.length||0}),label:"\u5E94\u7528"})]}),(0,o.jsx)(Po.Z,{className:Dt.settings,onClick:function(){i("setting",!0)},children:(0,o.jsx)(fo.Z,{color:"primary",sx:(0,J.V$)(e==null?void 0:e.bgimg)})})]}),(0,o.jsxs)(mt.Z,{pl:2,pr:2,pt:2,children:[(0,o.jsx)(F.Z,{spacing:2,children:bt.map(function(c,h){return(0,o.jsxs)(Do.Z,{interval:0,appear:!!(n!=null&&n.boxdata.usercfgs.isAnimate),children:[(0,o.jsx)(ft.Z,{variant:"body2",color:Io.Z[500],sx:e!=null&&e.bgimg?{textShadow:"black 0.1em 0.1em 0.2em",color:function(P){return P.palette.common.white}}:{},children:c.label},"title-".concat(h)),(0,o.jsx)(q.Z,{sx:{mt:1,borderRadius:2},children:(0,o.jsx)(Eo.Z,{children:c.data.map(function(v){return(0,o.jsxs)(Oo.ZP,{onClick:function(){var I;return(I=v.onClick)===null||I===void 0?void 0:I.call(v)},children:[(0,o.jsx)(At.Z,{sx:{minWidth:40},children:v.icon}),(0,o.jsx)(Ro.Z,{id:v.id,primary:v.label}),v.type==="switch"&&(0,o.jsx)(Q.k,{edge:"end",onChange:$o(v.id),checked:jt.indexOf(v.id)!==-1,inputProps:{"aria-labelledby":v.id}}),v.type!=="switch"&&(0,o.jsxs)(At.Z,{sx:{justifyContent:"flex-end",alignItems:"center",marginRight:-1.5,maxWidth:150},children:[(0,o.jsx)(ft.Z,{noWrap:!0,color:"grey",variant:"caption",children:v.val}),(0,o.jsx)(uo.Z,{})]})]},v.id)})})},"content-".concat(h))]},"group-".concat(h))})}),(0,o.jsx)("input",{ref:s,type:"file",style:{display:"none"},onChange:function(){var h,v=(h=s.current)===null||h===void 0?void 0:h.files;if(!(v!=null&&v.length))return d.alert({message:"\u8BF7\u9009\u62E9\u6587\u4EF6",type:"error"});var P=new FileReader;P.readAsText(v[0],"UTF-8"),P.onload=function(){var I=L()($()().mark(function K(B){var St,Wt,V,kt,dt,Ct,Nt,Zt;return $()().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:Wt=B==null||(St=B.target)===null||St===void 0?void 0:St.result,E.prev=1,V=JSON.parse(Wt),kt=[{key:C.Z.userCfgs,val:JSON.stringify(V.usercfgs)},{key:C.Z.sessions,val:JSON.stringify(V.sessions)},{key:C.Z.cursessions,val:JSON.stringify(V.curSessions)},{key:C.Z.backups,val:JSON.stringify(V.globalbaks)},{key:C.Z.app_subCaches,val:JSON.stringify(V.appSubCaches)}],dt=0,Ct=kt;case 5:if(!(dt<Ct.length)){E.next=12;break}return Nt=Ct[dt],E.next=9,et.run(Nt);case 9:dt++,E.next=5;break;case 12:return Zt=[],Object.keys(V.datas).forEach(function(Ht){Zt.push([{key:Ht,val:V.datas[Ht]}])}),E.next=16,et.run(Zt);case 16:d.alert({message:"\u5907\u4EFD\u6062\u590D\u6210\u529F",type:"success"}),E.next=23;break;case 19:E.prev=19,E.t0=E.catch(1),console.log(E.t0),d.alert({message:"\u5907\u4EFD\u6062\u590D\u5931\u8D25",type:"error"});case 23:case"end":return E.stop()}},K,null,[[1,19]])}));return function(K){return I.apply(this,arguments)}}()}})]})]})}},58291:function(nt,A){A.Z={logo:"https://raw.githubusercontent.com/Orz-3/mini/master/Color/box.png",userCfgs:"chavy_boxjs_userCfgs",sessions:"chavy_boxjs_sessions",app_subCaches:"chavy_boxjs_app_subCaches",backups:"chavy_boxjs_backups",cursessions:"chavy_boxjs_cur_sessions",gistCacheKey:"@chavy_boxjs_userCfgs.gist_cache_key",viewkeys:"@chavy_boxjs_userCfgs.viewkeys"}}}]);
